{% extends"base.html.twig" %}
{% block body %}
    <link href="{{ asset('css/bootstrap.css') }}" rel="stylesheet" type="text/css" media="all" />
    <link href="{{ asset('css/style.css') }}" rel="stylesheet" type="text/css" media="all" />
    <!-- font-awesome icons -->
    <link href="{{ asset('css/font-awesome.css') }}" rel="stylesheet">
    <!-- //font-awesome icons -->
    <!-- js -->
    <script src="{{ asset('js/jquery-1.11.1.min.js') }}"></script>
    <!-- //js -->
    <link href='//fonts.googleapis.com/css?family=Raleway:400,100,100italic,200,200italic,300,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
    <!-- start-smoth-scrolling -->
    <script type="text/javascript" src="{{ asset('js/move-top.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/easing.js') }}"></script>
    <script type="text/javascript">
        jQuery(document).ready(function($) {
            $(".scroll").click(function(event){
                event.preventDefault();
                $('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
            });
        });
    </script>
    <!-- start-smoth-scrolling -->

    <script src="{{ asset('Artisans/jquery.rateyo.min.js.téléchargement') }}"></script>
    <script src="{{ asset('Artisans/smart-app-banner.js.téléchargement') }}"></script>
    <div class="w3l_search" style="float: right; width: 250px">
        <br>
        <form action="#" method="post">
            <input  type="search" name="Search"  id="search" placeholder="Search for a Event..." required="">

            <div class="clearfix"></div>
        </form>
    </div>


    <div id="last"></div>
    {% for evenement in evenements %}


    <ul id="suppliers_list"  style="content:'';display:table;margin-left:300px;margin-right:300px;position:relative;border-bottom:1px solid #d6d4d4;box-shadow:0 1px #fff;-webkit-box-shadow:0 1px #fff;-moz-box-shadow:0 1px #fff;padding:31px 0 30px">

        <li class=" first-in-line  first-item-of-tablet-line col-xs-12" style="list-style-type: none;clear:left; margin-bottom: 15px;">
            <div class="mansup-container" style="font-family:'ArtisanFont','sans-serif'!important;font-size:inherit;color:#65403b;margin-right:auto !important;margin-left:auto !important;padding-left:15px !important;padding-right:15px !important";>
                <div class="row" style="margin-left:-15px;margin-right:-15px">
                    <div class="left-side col-xs-12 col-md-4 col-sm-4" style="padding-bottom:42px;">
                        <!-- logo -->
                        <div class="logo" style="height:120px;width:auto;margin:10px}.header_bottom{min-height:130px;margin-top:61px;margin-bottom:15px}">
                            <a href="{{ path('evenements_show_INC', { 'id': evenement.id }) }}" title="{{ evenement.nomevenement }}">
                                {#<div style="background:url({{ asset('uploads/Images/') }}{{ evenement.imagelink}}) center/cover;" class="img-post"></div>#}
                                <div ><img class="img-post" src="{{ asset('uploads/Images/') }}{{ evenement.imagelink}}"style="width:220px;height:210px;overflow:hidden;margin:0 auto; outline: none;
                                    border: 1px solid #DBDBDB;
                                    padding: 10px 10px 10px 10px;
                                    font-size: 14px;
                                    color: #999;
                                    display: block;
                                    width: 100%;"></div>
                            </a>
                        </div> <!-- .logo -->
                    </div> <!-- .left-side -->

                    <div class="middle-side col-xs-12 col-md-8 col-sm-8" style="font-family:'ArtisanFont','sans-serif' !important;margin-top:0">
                        <h2>
                            <a class="event-name" style="font-family:'ArtisanFont','sans-serif' !important;color:#65403b" href="{{ path('evenements_show_INC', { 'id': evenement.id }) }}">
                                {{ evenement.nomevenement }}
                            </a>
                        </h2>

                        <div class="description" style="display:block;clear:both;font-size:11px;color:#84888f">
                            <div class="row" style="margin-left:-15px;margin-right:-15px">
                                <div class="col-md-6 col-sm-6 col-xs-6">
                                    <p class="date-event" style="color:#666;font-size:13px"><i class="fa fa-calendar" style="content:'';color:#f2812f;width:15px;height:15px"></i>  Du {{ evenement.date }} au {{ evenement.datefin }}</p>
                                </div>
                                <div class="col-md-6 col-sm-6 col-xs-6">
                                    <p class="event-region" style="color:#666;font-size:13px"><i class="fa fa-map-marker" style="content:'';color:#f2812f;width:15px;height:15px"></i>  {{ evenement.lieu }}</p>
                                </div>
                            </div>
                            <div class="row" style="margin-left:-15px;margin-right:-15px">
                                <div class="col-md-4 col-sm-6 col-xs-6">
                                    <p class="date-event" style="color:#666;font-size:13px"><span class="glyphicon glyphicon-certificate" aria-hidden="true" style="content:'';color:#f2812f;width:15px;height:15px"></span><i class="artisans icon-cal"style="content:'\a90cc'"></i>   {{ evenement.nombredeplaces }} Place Totale</p>
                                </div>
                                <div class="col-md-6 col-sm-6 col-xs-6">
                                    <p class="event-region" style="color:#666;font-size:13px"><i class="fa fa-rss-square" style="content:'';color:#f2812f;width:15px;height:15px"></i>  {{ evenement.nombredesplacesrestante }} Place Disponible</p>
                                </div>
                            </div>
                            <div class=" col-lg-3 col-md-12" style="margin-top:0px;text-align:center;padding:30px;border:1px solid #f2812f;color:#fff;font-size:16px;background-color:#f2812f;text-transform:capitalize;line-height:35px;float: right"  >
                            <div style="font-size:26px;font-weight:700;padding-bottom:15px">{{ evenement.tarifevenement }}</div>
                            <div class="month">TND</div>
                            </div>
                            <div >
                                <div class="col-md-4 col-sm-6 col-xs-6">
                                    <p><i class="fa fa-wpforms" aria-hidden="true" style="content:'';color:#f2812f;width:15px;height:15px"></i> {{ evenement.descriptionevenement }}</p>
                                </div>
                            </div>
                        </div>
                    </div><!-- .middle-side -->
                </div>
            </div>
        </li>

        <li class=" first-in-line  last-item-of-tablet-line col-xs-12" style="list-style-type: none;clear:left;border-bottom:none">
    </ul>
    {% endfor %}




    <center>
        <div class="navigation">
            {{ knp_pagination_render(evenements) }}
        </div>
    </center>



    <script src="{{ asset('assets/jquery-3.2.1.min.js') }}"></script>
    <script src="{{ asset('bundles/fosjsrouting/js/router.min.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
    <script>
        $(function() {
            $("#search").keyup(function () {
                var name = $("#search").val();
                var DATA = 'name='+name;
                $.ajax({
                    type:'POST',
                    url: Routing.generate('evenements_search_ajax_INC'),
                    data:DATA,
                    success:function(data){
                        var user = JSON.parse(data);

                        if (user.length > 0  ){
                            $("#suppliers_list").hide();

                            console.log(name);
                            console.log(user);
                            var result="";
                            var newPath = "";
                            var image="";

                            $("#last").html("<div id='res'></div>");

                            $.each(user,function (index, value) {

                                var path = "{{ asset("uploads/Images/path") }}";
                                newPath = path.replace('path', value.imagelink);
                                var root = Routing.generate('evenements_show_INC', { 'id': value.id });
                                result="<ul id='suppliers_list'  style='content:;display:table;margin-left:300px;margin-right:300px;position:relative;border-bottom:1px solid #d6d4d4;box-shadow:0 1px #fff;-webkit-box-shadow:0 1px #fff;-moz-box-shadow:0 1px #fff;padding:31px 0 30px'>";
                                result=result+" <li class=' first-in-line  first-item-of-tablet-line col-xs-12' style='list-style-type: none;clear:left; margin-bottom: 15px;'>";
                                result=result+"<div class='mansup-container' style='font-family:ArtisanFont,sans-serif!important;font-size:inherit;color:#65403b;margin-right:auto !important;margin-left:auto !important;padding-left:15px !important;padding-right:15px !important;'>";
                                result=result+"<div class='row' style='margin-left:-15px;margin-right:-15px'>";
                                result=result+"<div class='left-side col-xs-12 col-md-4 col-sm-4' style='padding-bottom:42px;'>";
                                result=result+"<div class='logo' style='height:120px;width:auto;margin:10px}.header_bottom{min-height:130px;margin-top:61px;margin-bottom:15px;'>";
                                result=result+"<a href='"+root+"' title='"+value.nomevenement+"'><div ><img class='img-post' src='"+newPath+"'style='width:220px;height:210px;overflow:hidden;margin:0 auto; outline: none;order: 1px solid #DBDBDB;padding: 10px 10px 10px 10px;font-size: 14px;color: #999;display: block;width: 100%;'></div></a>";
                                result=result+" </div>";
                                result=result+" </div>";
                                result=result+"<div class='middle-side col-xs-12 col-md-8 col-sm-8' style='font-family:ArtisanFont,sans-serif !important;margin-top:0'>";
                                result=result+"<h2>";
                                result=result+"<a href='"+root+"' class='event-name' style='font-family:ArtisanFont,sans-serif !important;color:#65403b' >"+value.nomevenement+"</a>";
                                result=result+"</h2>";
                                result=result+"<div class='description' style='display:block;clear:both;font-size:11px;color:#84888f'>";
                                result=result+ "<div class='row' style='margin-left:-15px;margin-right:-15px'>";
                                result=result+"<div class='col-md-6 col-sm-6 col-xs-6'>";
                                result=result+"<p class='date-event' style='color:#666;font-size:13px'><i class='fa fa-calendar' style='color:#f2812f;width:15px;height:15px'></i>  Du "+value.date+" au "+value.datefin+"</p>";
                                result=result+"</div>";
                                result=result+"<div class='col-md-6 col-sm-6 col-xs-6'>";
                                result=result+"<p class='event-region' style='color:#666;font-size:13px'><i class='fa fa-map-marker' style='color:#f2812f;width:15px;height:15px'></i>"+value.lieu+"</p>";
                                result=result+"</div>";
                                result=result+"</div>";
                                result=result+"<div class='row'style='margin-left:-15px;margin-right:-15px'>";
                                result=result+"<div class='col-md-4 col-sm-6 col-xs-6'>";
                                result=result+"<p class='date-event' style='color:#666;font-size:13px'><span class='glyphicon glyphicon-certificate' aria-hidden='true' style='color:#f2812f;width:15px;height:15px'></span> "+value.nombredeplaces+"Place Totale</p>";
                                result=result+"</div>";
                                result=result+"<div class='col-md-6 col-sm-6 col-xs-6'>";
                                result=result+"<p class='event-region' style='color:#666;font-size:13px'><i class='fa fa-rss-square' style='color:#f2812f;width:15px;height:15px'></i> "+value.nombredesplacesrestante+" Place Disponible</p>";
                                result=result+"</div>";
                                result=result+"</div>";
                                result=result+"<div class=' col-lg-3 col-md-12' style='margin-top:0px;text-align:center;padding:30px;border:1px solid #f2812f;color:#fff;font-size:16px;background-color:#f2812f;text-transform:capitalize;line-height:35px;float: right'  >";
                                result=result+"<div style='font-size:26px;font-weight:700;padding-bottom:15px'>"+value.tarifevenement+"</div>";
                                result=result+"<div class='month'>TND</div>";
                                result=result+"</div>";
                                result=result+"<div >";
                                result=result+"<div class='col-md-4 col-sm-6 col-xs-6'>";
                                result=result+"<p><i class='fa fa-wpforms' aria-hidden='true' style=color:#f2812f;width:15px;height:15px'></i>"+value.descriptionevenement+"</p>";
                                result=result+"</div>";
                                result=result+"</div>";
                                result=result+"</div>";
                                result=result+"</div>";
                                result=result+"</div>";
                                result=result+"</div>";
                                result=result+"</li>";
                                result=result+"<li class=' first-in-line  last-item-of-tablet-line col-xs-12' style='list-style-type: none;clear:left;border-bottom:none'>";
                                result=result+"</ul>";


                                $("#res").append(result);


                            });
                        }
                        else
                        {
                        //     $('#search').keydown(function () {
                                $("#suppliers_list").show();
                                $("#res").hide();
                        //     });
                        }



                    }
                });
            })
        });
    </script>

{% endblock %}